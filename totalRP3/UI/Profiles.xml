<!--
	Copyright The Total RP 3 Authors
	SPDX-License-Identifier: Apache-2.0
-->
<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
https://raw.githubusercontent.com/Meorawr/wow-ui-schema/main/UI.xsd">
	<Include file="Profiles.lua"/>

	<Button name="TRP3_ProfileListElementTemplate" mixin="TRP3_ProfileListElementMixin" virtual="true">
		<Size y="55"/>
		<Layers>
			<Layer level="ARTWORK">
				<Texture parentKey="Icon" file="Interface\ICONS\INV_Misc_QuestionMark">
					<Size x="40" y="40"/>
					<Anchors>
						<Anchor point="LEFT" x="10" y="0"/>
					</Anchors>
				</Texture>
				<FontString parentKey="NameText" inherits="GameFontNormalLarge" justifyH="LEFT" text="[PROFILE_NAME]">
					<Size y="20"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.Icon" relativePoint="TOPRIGHT" x="5"/>
						<Anchor point="BOTTOMLEFT" relativeKey="$parent.Icon" relativePoint="RIGHT" x="5"/>
						<Anchor point="RIGHT" x="-110"/>
					</Anchors>
					<Color r="0.95" g="0.95" b="0.95"/>
				</FontString>
				<FontString parentKey="CountText" inherits="GameFontNormalSmall" justifyH="LEFT" text="[PROFILE_COUNT]">
					<Size y="10"/>
					<Anchors>
						<Anchor point="TOPLEFT" relativeKey="$parent.Icon" relativePoint="RIGHT" x="25"/>
						<Anchor point="BOTTOMLEFT" relativeKey="$parent.Icon" relativePoint="BOTTOMRIGHT" x="5"/>
						<Anchor point="RIGHT" x="-110"/>
					</Anchors>
					<Color r="0.95" g="0.75" b="0.10"/>
				</FontString>
				<FontString parentKey="CurrentProfileText" inherits="GameFontNormalSmall" justifyH="RIGHT" text="[current_profile]">
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent.NameText" relativePoint="RIGHT" x="5"/>
						<Anchor point="TOPRIGHT" x="-10" y="-10"/>
					</Anchors>
					<Color g="0.95"/>
				</FontString>
			</Layer>
			<Layer level="OVERLAY">
			<Texture parentKey="FlashTexture" file="Interface/ACHIEVEMENTFRAME/UI-Achievement-Alert-Glow" alphaMode="ADD" alpha="0">
					<Size x="150" y="60"/>
					<TexCoords left="0.8" right="1" top="0.1" bottom="0.22"/>
					<Anchors>
						<Anchor point="TOPLEFT" x="-20" y="-2"/>
					</Anchors>
				</Texture>
			</Layer>
		</Layers>
		<Frames>
			<Frame parentKey="NineSlice" inherits="NineSlicePanelTemplate" useParentLevel="true" setAllPoints="true">
				<KeyValues>
					<KeyValue key="layoutType" value="TooltipDefaultLayout" type="string"/>
				</KeyValues>
			</Frame>
			<Button parentKey="ActionButton" inherits="TRP3_ActionButton">
				<Anchors>
					<Anchor point="BOTTOMRIGHT" x="-4" y="4"/>
				</Anchors>
			</Button>
			<Button parentKey="HelpButton" inherits="TRP3_HelpButton">
				<Anchors>
					<Anchor point="BOTTOMLEFT" relativeKey="$parent.Icon" relativePoint="BOTTOMRIGHT" x="5" y="2"/>
				</Anchors>
			</Button>
			<Frame parentKey="Glow" inherits="GlowBorderTemplate" setAllPoints="true" alpha="0.55"/>
		</Frames>
		<Animations>
			<AnimationGroup parentKey="FadeAnimation" looping="NONE">
				<Alpha duration="0.25" toAlpha="0.6" fromAlpha="1" order="1"/>
				<Alpha duration="0.25" toAlpha="1" fromAlpha="0.6" order="2"/>
			</AnimationGroup>
			<AnimationGroup parentKey="FlashAnimation" setToFinalAlpha="true" looping="NONE">
				<Alpha duration="0.4" toAlpha="1" fromAlpha="0" smoothing="IN" order="1" childKey="FlashTexture"/>
				<Translation duration="0.8" offsetX="400" smoothing="IN_OUT" order="1" childKey="FlashTexture"/>
				<Alpha duration="0.2" toAlpha="0" fromAlpha="1" smoothing="OUT" order="1" startDelay="0.5" childKey="FlashTexture"/>
			</AnimationGroup>
		</Animations>
		<Scripts>
			<OnLoad method="OnLoad"/>
			<OnEnter method="OnEnter"/>
			<OnLeave method="OnLeave"/>
		</Scripts>
	</Button>

	<Frame name="TRP3_ProfileListFrameTemplate" mixin="TRP3_ProfileListFrameMixin" virtual="true">
		<KeyValues>
			<KeyValue key="paddingTop" value="10" type="number"/>
			<KeyValue key="paddingBottom" value="10" type="number"/>
			<KeyValue key="paddingLeft" value="10" type="number"/>
			<KeyValue key="paddingRight" value="10" type="number"/>
			<KeyValue key="spacing" value="10" type="number"/>
		</KeyValues>
		<Frames>
			<EventFrame parentKey="ScrollBar" inherits="WowTrimScrollBar">
				<Anchors>
					<Anchor point="TOPRIGHT"/>
					<Anchor point="BOTTOMRIGHT"/>
				</Anchors>
			</EventFrame>
			<Frame parentKey="ScrollBox" inherits="WowScrollBoxList">
				<Anchors>
					<Anchor point="TOPLEFT"/>
					<Anchor point="BOTTOMRIGHT" relativeKey="$parent.ScrollBar" relativePoint="BOTTOMLEFT"/>
				</Anchors>
			</Frame>
		</Frames>
		<Layers>
			<Layer level="OVERLAY">
				<FontString parentKey="EmptyText" inherits="GameFontNormalLarge" justifyH="CENTER">
					<Anchors>
						<Anchor point="LEFT" relativeKey="$parent.ScrollBox"/>
						<Anchor point="RIGHT" relativeKey="$parent.ScrollBox"/>
					</Anchors>
					<Color r="0.95" g="0.95" b="0.95"/>
				</FontString>
			</Layer>
		</Layers>
		<Scripts>
			<OnLoad method="OnLoad"/>
			<OnShow method="OnShow"/>
			<OnHide method="OnHide"/>
		</Scripts>
	</Frame>

	<!-- Profile manager -->
	<Frame name="TRP3_ProfileManagerTemplate" hidden="true" virtual="true">
		<Frames>
			<Frame frameLevel="2" parentKey="list" inherits="BackdropTemplate">
				<KeyValues>
					<KeyValue key="backdropInfo" value="TRP3_BACKDROP_TOOLTIP_0_24" type="global"/>
				</KeyValues>
				<Anchors>
					<Anchor point="TOPRIGHT" x="2" y="-28" />
					<Anchor point="BOTTOMLEFT" x="2" y="0" />
				</Anchors>
				<Layers>
					<Layer level="BACKGROUND">
						<Texture file="Interface\ARCHEOLOGY\Arch-BookCompletedLeft">
							<Anchors>
								<Anchor point="TOPRIGHT" x="-5" y="-2"/>
								<Anchor point="BOTTOMRIGHT" x="-5" y="-2"/>
								<Anchor point="LEFT" x="5" y="0"/>
							</Anchors>
							<TexCoords left="0.07" right="1" top="0" bottom="0.975" />
						</Texture>
					</Layer>
				</Layers>
				<Frames>
					<Frame parentKey="ListFrameInset" inherits="NineSlicePanelTemplate" useParentLevel="true">
						<KeyValues>
							<KeyValue key="layoutType" value="InsetFrameTemplate" type="string"/>
						</KeyValues>
						<Layers>
							<Layer level="BACKGROUND" textureSubLevel="1">
								<Texture setAllPoints="true">
									<Color a="0.5"/>
								</Texture>
							</Layer>
						</Layers>
						<Anchors>
							<Anchor point="TOPLEFT" x="15" y="-50"/>
							<Anchor point="BOTTOMRIGHT" x="-15" y="20"/>
						</Anchors>
					</Frame>
					<Frame parentKey="ListFrame" inherits="TRP3_ProfileListFrameTemplate">
						<Anchors>
							<Anchor point="TOPLEFT" relativeKey="$parent.ListFrameInset" x="4" y="-4"/>
							<Anchor point="BOTTOMRIGHT" relativeKey="$parent.ListFrameInset" x="-4" y="4"/>
						</Anchors>
					</Frame>
					<Button name="$parentAdd" inherits="UIPanelButtonTemplate">
						<Size x="150" y="20" />
						<Anchors>
							<Anchor point="BOTTOM" relativePoint="TOP" relativeKey="$parent.ListFrame" x="0" y="5" />
						</Anchors>
					</Button>
					<Button name="$parentInfo" inherits="TRP3_HelpButton" hidden="true">
						<Size x="15" y="15" />
						<Anchors>
							<Anchor point="BOTTOMRIGHT" relativePoint="TOPRIGHT" relativeKey="$parent.ListFrame" x="3" y="8" />
						</Anchors>
					</Button>
					<EditBox name="$parentSearch" inherits="TRP3_TitledEditBox">
						<Size x="125" y="18" />
						<Anchors>
							<Anchor point="BOTTOMLEFT" relativePoint="TOPLEFT" relativeKey="$parent.ListFrame" x="10" y="5" />
						</Anchors>
					</EditBox>
				</Frames>
			</Frame>
		</Frames>
	</Frame>

	<Frame name="TRP3_ProfileManager" inherits="TRP3_ProfileManagerTemplate" hidden="true" />

	<Frame name="TRP3_ProfileExport" parentKey="export" parent="TRP3_ProfileManager" inherits="TRP3_AltHoveredFrame" enableMouse="true" frameStrata="HIGH" hidden="true">
		<Size x="400" y="300"/>

		<Anchors>
			<Anchor point="CENTER" x="0" y="0"/>
		</Anchors>

		<Layers>
			<Layer level="OVERLAY">
				<FontString parentKey="title" inherits="GameFontNormalLarge" justifyH="CENTER" justifyV="MIDDLE">
					<Size x="0" y="30"/>
					<Anchors>
						<Anchor point="TOP" x="0" y="-10"/>
						<Anchor point="RIGHT" x="-10" y="0"/>
						<Anchor point="LEFT" x="10" y="0"/>
					</Anchors>
					<Color r="0.95" g="0.95" b="0.95" />
				</FontString>
				<FontString parentKey="warning" inherits="GameFontNormalSmall" justifyH="LEFT">
					<Anchors>
						<Anchor point="TOP" relativePoint="BOTTOM" relativeKey="$parent.title" />
						<Anchor point="RIGHT" x="-30" y="0"/>
						<Anchor point="LEFT" x="30" y="0"/>
					</Anchors>
					<Color r="0.95" g="0.95" b="0.95" />
				</FontString>
			</Layer>
		</Layers>

		<Frames>
			<Button parentKey="Close" inherits="UIPanelCloseButton">
				<Anchors>
					<Anchor point="TOPRIGHT" x="0" y="0"/>
				</Anchors>
				<Scripts>
					<OnClick>
						self:GetParent():Hide();
					</OnClick>
				</Scripts>
			</Button>

			<Frame parentKey="content" inherits="TRP3_TextArea">
				<Layers>
					<Layer level="OVERLAY">
						<FontString parentKey="title" inherits="GameFontNormalSmall" justifyH="LEFT">
							<Anchors>
								<Anchor point="TOPLEFT" x="10" y="12"/>
								<Anchor point="TOPRIGHT" x="0" y="12"/>
							</Anchors>
							<Color r="0.95" g="0.75" b="0.1"/>
						</FontString>
					</Layer>
				</Layers>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeKey="$parent.warning" x="0" y="-25"/>
					<Anchor point="RIGHT" x="-30" y="0"/>
					<Anchor point="LEFT" x="20" y="0"/>
					<Anchor point="BOTTOM" x="0" y="30"/>
				</Anchors>
			</Frame>
		</Frames>
	</Frame>

	<Frame parentKey="import" name="TRP3_ProfileImport" parent="TRP3_ProfileManager" inherits="TRP3_AltHoveredFrame" enableMouse="true" frameStrata="HIGH" hidden="true">
		<Size x="400" y="300"/>

		<Anchors>
			<Anchor point="CENTER" x="0" y="0"/>
		</Anchors>

		<Layers>
			<Layer level="OVERLAY">
				<FontString parentKey="title" inherits="GameFontNormalLarge" justifyH="CENTER" justifyV="MIDDLE">
					<Size x="0" y="30"/>
					<Anchors>
						<Anchor point="TOP" x="0" y="-10"/>
						<Anchor point="RIGHT" x="-10" y="0"/>
						<Anchor point="LEFT" x="10" y="0"/>
					</Anchors>
					<Color r="0.95" g="0.95" b="0.95" />
				</FontString>
			</Layer>
		</Layers>

		<Frames>
			<Button parentKey="Close" inherits="UIPanelCloseButton">
				<Anchors>
					<Anchor point="TOPRIGHT" x="0" y="0"/>
				</Anchors>
				<Scripts>
					<OnClick>
						self:GetParent():Hide();
					</OnClick>
				</Scripts>
			</Button>

			<Button parentKey="save" inherits="TRP3_CommonButton">
				<Anchors>
					<Anchor point="BOTTOM" x="0" y="20"/>
				</Anchors>
			</Button>

			<Frame parentKey="content" inherits="TRP3_TextArea">
				<Layers>
					<Layer level="OVERLAY">
						<FontString parentKey="title" inherits="GameFontNormalSmall" justifyH="LEFT">
							<Anchors>
								<Anchor point="TOPLEFT" x="10" y="12"/>
								<Anchor point="TOPRIGHT" x="0" y="12"/>
							</Anchors>
							<Color r="0.95" g="0.75" b="0.1"/>
						</FontString>
					</Layer>
				</Layers>
				<Anchors>
					<Anchor point="TOP" relativePoint="BOTTOM" relativeKey="$parent.title" x="0" y="-21"/>
					<Anchor point="RIGHT" x="-30" y="0"/>
					<Anchor point="LEFT" x="20" y="0"/>
					<Anchor point="BOTTOM" relativePoint="TOP" relativeKey="$parent.save" x="0" y="5"/>
				</Anchors>
			</Frame>
		</Frames>
	</Frame>
</Ui>
